<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projekt Pracownia - Plan Realizacji</title>
    <style>
        :root {
            --color-white: rgba(255, 255, 255, 1);
            --color-cream-50: rgba(252, 252, 249, 1);
            --color-cream-100: rgba(255, 255, 253, 1);
            --color-gray-200: rgba(245, 245, 245, 1);
            --color-gray-300: rgba(167, 169, 169, 1);
            --color-slate-500: rgba(98, 108, 113, 1);
            --color-brown-600: rgba(94, 82, 64, 1);
            --color-charcoal-700: rgba(31, 33, 33, 1);
            --color-charcoal-800: rgba(38, 40, 40, 1);
            --color-slate-900: rgba(19, 52, 59, 1);
            --color-teal-300: rgba(50, 184, 198, 1);
            --color-teal-500: rgba(33, 128, 141, 1);
            --color-teal-600: rgba(29, 116, 128, 1);
            --color-red-400: rgba(255, 84, 89, 1);
            --color-orange-400: rgba(230, 129, 97, 1);
            --color-brown-600-rgb: 94, 82, 64;
            --color-teal-500-rgb: 33, 128, 141;
            --color-slate-900-rgb: 19, 52, 59;
            --color-background: var(--color-cream-50);
            --color-surface: var(--color-cream-100);
            --color-text: var(--color-slate-900);
            --color-text-secondary: var(--color-slate-500);
            --color-primary: var(--color-teal-500);
            --color-primary-hover: var(--color-teal-600);
            --color-border: rgba(var(--color-brown-600-rgb), 0.2);
            --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
            --radius-base: 8px;
            --radius-lg: 12px;
            --space-8: 8px;
            --space-12: 12px;
            --space-16: 16px;
            --space-24: 24px;
            --space-32: 32px;
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04), 0 2px 4px -1px rgba(0, 0, 0, 0.02);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --color-gray-400-rgb: 119, 124, 124;
                --color-teal-300-rgb: 50, 184, 198;
                --color-gray-300-rgb: 167, 169, 169;
                --color-background: var(--color-charcoal-700);
                --color-surface: var(--color-charcoal-800);
                --color-text: var(--color-gray-200);
                --color-text-secondary: rgba(var(--color-gray-300-rgb), 0.7);
                --color-primary: var(--color-teal-300);
                --color-border: rgba(var(--color-gray-400-rgb), 0.3);
                --color-card-border: rgba(var(--color-gray-400-rgb), 0.2);
            }
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--color-background);
            color: var(--color-text);
            line-height: 1.6;
            padding: var(--space-24);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2rem;
            margin-bottom: var(--space-24);
            color: var(--color-text);
        }

        .tabs {
            display: flex;
            gap: var(--space-8);
            margin-bottom: var(--space-24);
            border-bottom: 2px solid var(--color-border);
            overflow-x: auto;
        }

        .tab {
            padding: var(--space-12) var(--space-24);
            background: none;
            border: none;
            color: var(--color-text-secondary);
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 500;
            border-bottom: 3px solid transparent;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .tab:hover {
            color: var(--color-text);
        }

        .tab.active {
            color: var(--color-primary);
            border-bottom-color: var(--color-primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .cards-grid {
            display: grid;
            gap: var(--space-16);
            margin-bottom: var(--space-24);
        }

        .card {
            background: var(--color-surface);
            border: 1px solid var(--color-card-border);
            border-radius: var(--radius-lg);
            padding: var(--space-24);
            box-shadow: var(--shadow-md);
        }

        .card h2 {
            font-size: 1.3rem;
            margin-bottom: var(--space-16);
            color: var(--color-text);
        }

        .card h3 {
            font-size: 1.1rem;
            margin-top: var(--space-24);
            margin-bottom: var(--space-12);
            color: var(--color-primary);
        }

        .phase {
            margin-bottom: var(--space-32);
            padding: var(--space-16);
            background: var(--color-background);
            border-radius: var(--radius-base);
            border-left: 4px solid var(--color-primary);
        }

        .phase-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-16);
            flex-wrap: wrap;
            gap: var(--space-12);
        }

        .phase-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--color-text);
        }

        .phase-duration {
            font-size: 0.9rem;
            color: var(--color-text-secondary);
            padding: 4px 12px;
            background: var(--color-border);
            border-radius: 16px;
        }

        .task-list {
            list-style: none;
        }

        .task-item {
            padding: var(--space-12);
            margin-bottom: var(--space-8);
            background: var(--color-surface);
            border-radius: var(--radius-base);
            border: 1px solid var(--color-card-border);
            display: flex;
            gap: var(--space-12);
            align-items: flex-start;
            cursor: pointer;
            transition: all 0.2s;
        }

        .task-item:hover {
            border-color: var(--color-primary);
            transform: translateX(4px);
        }

        .task-checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid var(--color-border);
            border-radius: 4px;
            cursor: pointer;
            flex-shrink: 0;
            margin-top: 2px;
            position: relative;
        }

        .task-checkbox.checked {
            background: var(--color-primary);
            border-color: var(--color-primary);
        }

        .task-checkbox.checked::after {
            content: '‚úì';
            position: absolute;
            top: -2px;
            left: 3px;
            color: white;
            font-size: 14px;
            font-weight: bold;
        }

        .task-content {
            flex: 1;
        }

        .task-title {
            font-weight: 500;
            margin-bottom: 4px;
        }

        .task-item.completed .task-title {
            text-decoration: line-through;
            opacity: 0.6;
        }

        .task-details {
            font-size: 0.85rem;
            color: var(--color-text-secondary);
        }

        .budget-item {
            display: flex;
            justify-content: space-between;
            padding: var(--space-12);
            margin-bottom: var(--space-8);
            background: var(--color-background);
            border-radius: var(--radius-base);
        }

        .budget-category {
            font-weight: 500;
        }

        .budget-amount {
            color: var(--color-primary);
            font-weight: 600;
        }

        .budget-total {
            display: flex;
            justify-content: space-between;
            padding: var(--space-16);
            margin-top: var(--space-16);
            background: var(--color-primary);
            color: white;
            border-radius: var(--radius-base);
            font-size: 1.2rem;
            font-weight: 600;
        }

        .timeline {
            position: relative;
            padding-left: 40px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 3px;
            background: var(--color-border);
        }

        .timeline-item {
            position: relative;
            margin-bottom: var(--space-32);
        }

        .timeline-dot {
            position: absolute;
            left: -32px;
            top: 4px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--color-primary);
            border: 3px solid var(--color-surface);
            box-shadow: 0 0 0 3px var(--color-border);
        }

        .timeline-content {
            background: var(--color-surface);
            padding: var(--space-16);
            border-radius: var(--radius-base);
            border: 1px solid var(--color-card-border);
        }

        .timeline-date {
            font-size: 0.85rem;
            color: var(--color-text-secondary);
            margin-bottom: var(--space-8);
        }

        .timeline-title {
            font-weight: 600;
            margin-bottom: var(--space-8);
            color: var(--color-text);
        }

        .progress-bar {
            width: 100%;
            height: 24px;
            background: var(--color-border);
            border-radius: 12px;
            overflow: hidden;
            margin: var(--space-16) 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--color-teal-500), var(--color-teal-300));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.85rem;
            font-weight: 600;
            transition: width 0.5s ease;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-16);
            margin-top: var(--space-24);
        }

        .stat-card {
            background: var(--color-background);
            padding: var(--space-16);
            border-radius: var(--radius-base);
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: var(--space-8);
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--color-text-secondary);
        }

        .btn-small {
            padding: 6px 12px;
            background: var(--color-primary);
            color: white;
            border: none;
            border-radius: var(--radius-base);
            cursor: pointer;
            font-size: 0.8rem;
            font-weight: 500;
            transition: background 0.2s;
        }

        .btn-small:hover {
            background: var(--color-primary-hover);
        }

        .phase-add-task {
            background: var(--color-teal-300);
            margin-left: auto;
        }

        .task-actions {
            display: flex;
            gap: 4px;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .task-item:hover .task-actions {
            opacity: 1;
        }

        .btn-edit, .btn-delete {
            width: 32px;
            height: 32px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            transition: all 0.2s;
        }

        .btn-edit {
            background: var(--color-orange-400);
            color: white;
        }

        .btn-edit:hover {
            background: #e67e22;
        }

        .btn-delete {
            background: var(--color-red-400);
            color: white;
        }

        .btn-delete:hover {
            background: #c0392b;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--color-surface);
            padding: var(--space-24);
            border-radius: var(--radius-lg);
            border: 1px solid var(--color-card-border);
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal h3 {
            margin-bottom: var(--space-16);
            color: var(--color-text);
        }

        .form-group {
            margin-bottom: var(--space-16);
        }

        .form-label {
            display: block;
            margin-bottom: var(--space-8);
            font-weight: 500;
            color: var(--color-text);
        }

        .form-input {
            width: 100%;
            padding: var(--space-8);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            background: var(--color-background);
            color: var(--color-text);
            font-size: 0.9rem;
        }

        .form-textarea {
            width: 100%;
            min-height: 80px;
            padding: var(--space-8);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            background: var(--color-background);
            color: var(--color-text);
            font-size: 0.9rem;
            font-family: inherit;
            resize: vertical;
        }

        .modal-actions {
            display: flex;
            gap: var(--space-12);
            justify-content: flex-end;
            margin-top: var(--space-24);
        }

        .btn-secondary {
            padding: var(--space-8) var(--space-16);
            background: var(--color-border);
            color: var(--color-text);
            border: none;
            border-radius: var(--radius-base);
            cursor: pointer;
            font-size: 0.9rem;
        }

        .btn-secondary:hover {
            background: var(--color-text-secondary);
            color: var(--color-surface);
        }

        .notes-section {
            margin-top: var(--space-24);
        }

        .note-input {
            width: 100%;
            padding: var(--space-12);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            background: var(--color-surface);
            color: var(--color-text);
            font-family: inherit;
            font-size: 0.95rem;
            resize: vertical;
            min-height: 80px;
        }

        .btn {
            padding: var(--space-12) var(--space-24);
            background: var(--color-primary);
            color: white;
            border: none;
            border-radius: var(--radius-base);
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 500;
            transition: background 0.2s;
        }

        .btn:hover {
            background: var(--color-primary-hover);
        }

        .note-item {
            padding: var(--space-12);
            margin-top: var(--space-8);
            background: var(--color-background);
            border-radius: var(--radius-base);
            border-left: 3px solid var(--color-primary);
        }

        .note-date {
            font-size: 0.8rem;
            color: var(--color-text-secondary);
            margin-bottom: 4px;
        }

        @media (max-width: 768px) {
            body {
                padding: var(--space-16);
            }

            h1 {
                font-size: 1.5rem;
            }

            .phase-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .timeline {
                padding-left: 30px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üèóÔ∏è Projekt Pracownia - Plan Realizacji</h1>

        <div class="tabs">
            <button class="tab active" data-tab="overview">PrzeglƒÖd</button>
            <button class="tab" data-tab="phases">Fazy Projektu</button>
            <button class="tab" data-tab="timeline">O≈õ Czasu</button>
            <button class="tab" data-tab="budget">Bud≈ºet</button>
            <button class="tab" data-tab="notes">Notatki</button>
        </div>

        <div id="overview" class="tab-content active">
            <div class="card">
                <h2>Status Projektu</h2>
                <div class="progress-bar">
                    <div class="progress-fill" id="overallProgress">0%</div>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="completedTasks">0</div>
                        <div class="stat-label">Wykonane zadania</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="totalTasks">54</div>
                        <div class="stat-label">Wszystkie zadania</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="estimatedTime">24-36</div>
                        <div class="stat-label">Miesiƒôcy (szacunek)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">450-750</div>
                        <div class="stat-label">tys. z≈Ç (bud≈ºet)</div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>Cel Projektu</h2>
                <p><strong>Wizja:</strong> Stworzenie w pe≈Çni wyposa≈ºonej pracowni krawieckiej dla Patrycji (Uszyte przez Pati), umo≈ºliwiajƒÖcej prowadzenie dzia≈Çalno≈õci rƒôkodzielniczej oraz warsztat√≥w szwalniczych dla dzieci.</p>
                
                <h3>Kluczowe Kroki</h3>
                <ol style="padding-left: 24px; line-height: 1.8;">
                    <li><strong>Zakup sƒÖsiedniej nieruchomo≈õci</strong> - negocjacje i transakcja</li>
                    <li><strong>Scalenie dzia≈Çek</strong> - procedura administracyjna w starostwie/gminie</li>
                    <li><strong>Uzyskanie pozwole≈Ñ budowlanych</strong> - dla budynku modu≈Çowego</li>
                    <li><strong>Zakup i instalacja kontenera/modu≈Çu</strong> - pracownia krawiecka</li>
                    <li><strong>Wyposa≈ºenie i uruchomienie</strong> - sprzƒôt, media, aran≈ºacja</li>
                </ol>
            </div>
        </div>

        <div id="phases" class="tab-content">
            <div class="card">
                <h2>Szczeg√≥≈Çowe Fazy Realizacji</h2>
                
                <div class="phase">
                    <div class="phase-header">
                        <span class="phase-title">FAZA 1: Przygotowanie i Analiza</span>
                        <span class="phase-duration">MiesiƒÖce 1-3</span>
                        <button class="btn-small phase-add-task" data-phase="1">+ Dodaj zadanie</button>
                    </div>
                    <ul class="task-list" data-phase="1">
                        <li class="task-item" data-task-id="1-1">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Analiza rynku nieruchomo≈õci - wycena sƒÖsiedniej dzia≈Çki</div>
                                <div class="task-details">Zlecenie wyceny rzeczoznawcy, analiza cen transakcyjnych w okolicy</div>
                            </div>
                            <div class="task-actions">
                                <button class="btn-edit" onclick="editTask('1-1')">‚úèÔ∏è</button>
                                <button class="btn-delete" onclick="deleteTask('1-1')">üóëÔ∏è</button>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="1-2">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Sprawdzenie stanu prawnego sƒÖsiedniej dzia≈Çki</div>
                                <div class="task-details">Wypis z ksiƒôgi wieczystej, sprawdzenie obciƒÖ≈ºe≈Ñ, hipoteki</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="1-3">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Weryfikacja miejscowego planu zagospodarowania przestrzennego</div>
                                <div class="task-details">Sprawdzenie przeznaczenia dzia≈Çek, mo≈ºliwo≈õci zabudowy</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="1-4">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Kontakt z w≈Ça≈õcicielem sƒÖsiedniej dzia≈Çki - negocjacje wstƒôpne</div>
                                <div class="task-details">Rozmowa o zamiarze zakupu, ustalenie wstƒôpnych warunk√≥w</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="1-5">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Konsultacja z architektem/projektantem</div>
                                <div class="task-details">Wstƒôpna koncepcja zagospodarowania scalonej dzia≈Çki</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="1-6">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Analiza przepis√≥w dot. budynk√≥w modu≈Çowych</div>
                                <div class="task-details">Wymogi prawne, pozwolenia, wielko≈õƒá obiektu (do 35m¬≤ bez pozwolenia przy spe≈Çnieniu warunk√≥w)</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="1-7">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Przygotowanie bud≈ºetu i planu finansowania</div>
                                <div class="task-details">Wnioski kredytowe, oszczƒôdno≈õci, harmonogram wydatk√≥w</div>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="phase">
                    <div class="phase-header">
                        <span class="phase-title">FAZA 2: Zakup Nieruchomo≈õci</span>
                        <span class="phase-duration">MiesiƒÖce 4-8</span>
                    </div>
                    <ul class="task-list" data-phase="2">
                        <li class="task-item" data-task-id="2-1">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Finalizacja negocjacji cenowych</div>
                                <div class="task-details">Ustalenie ostatecznej ceny i warunk√≥w transakcji</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="2-2">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Umowa przedwstƒôpna / rezerwacja dzia≈Çki</div>
                                <div class="task-details">Zabezpieczenie transakcji, wp≈Çata zadatku (zazwyczaj 10%)</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="2-3">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Przygotowanie dokument√≥w do aktu notarialnego</div>
                                <div class="task-details">Wypisy, wyrysy, za≈õwiadczenia, dowody to≈ºsamo≈õci</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="2-4">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Finalizacja finansowania zakupu</div>
                                <div class="task-details">Uruchomienie kredytu lub przygotowanie ≈õrodk√≥w w≈Çasnych</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="2-5">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Podpisanie aktu notarialnego</div>
                                <div class="task-details">Przeniesienie w≈Çasno≈õci, wpis do ksiƒôgi wieczystej (2-4 tygodnie)</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="2-6">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Uzyskanie nowego wypisu z ksiƒôgi wieczystej</div>
                                <div class="task-details">Potwierdzenie w≈Çasno≈õci, dokument potrzebny do dalszych procedur</div>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="phase">
                    <div class="phase-header">
                        <span class="phase-title">FAZA 3: Scalenie Dzia≈Çek</span>
                        <span class="phase-duration">MiesiƒÖce 9-14</span>
                    </div>
                    <ul class="task-list" data-phase="3">
                        <li class="task-item" data-task-id="3-1">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Zlecenie mapy geodezyjnej dla obu dzia≈Çek</div>
                                <div class="task-details">Geodeta - aktualna mapa do 6 miesiƒôcy, koszt ok. 1500-3000 z≈Ç</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="3-2">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Przygotowanie projektu scalenia i wt√≥rnego podzia≈Çu</div>
                                <div class="task-details">Geodeta przygotowuje projekt scalenia wraz z podzia≈Çem (je≈õli potrzebny)</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="3-3">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Z≈Ço≈ºenie wniosku o scalenie dzia≈Çek</div>
                                <div class="task-details">Starostwo powiatowe lub urzƒÖd gminy + za≈ÇƒÖczniki: wypisy, wyrysy, mapa, uzasadnienie</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="3-4">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Oczekiwanie na decyzjƒô administracyjnƒÖ o scaleniu</div>
                                <div class="task-details">Procedura 2-6 miesiƒôcy, mo≈ºe byƒá wymagana opinia samorzƒÖdu</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="3-5">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Uzyskanie pozytywnej decyzji o scaleniu</div>
                                <div class="task-details">Decyzja ostateczna po up≈Çywie terminu odwo≈Çawczego (14 dni)</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="3-6">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Aktualizacja ewidencji grunt√≥w i mapy zasadniczej</div>
                                <div class="task-details">Geodeta wykonuje pomiary i aktualizuje dokumentacjƒô</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="3-7">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Za≈Ço≈ºenie nowej ksiƒôgi wieczystej dla scalonej dzia≈Çki</div>
                                <div class="task-details">Wpis do ksiƒôgi wieczystej, koszt ok. 200 z≈Ç + termin 2-4 tygodnie</div>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="phase">
                    <div class="phase-header">
                        <span class="phase-title">FAZA 4: Pozwolenia Budowlane</span>
                        <span class="phase-duration">MiesiƒÖce 15-18</span>
                    </div>
                    <ul class="task-list" data-phase="4">
                        <li class="task-item" data-task-id="4-1">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Wyb√≥r dostawcy budynku modu≈Çowego/kontenera</div>
                                <div class="task-details">Por√≥wnanie ofert, wizyta w pokazach, analiza parametr√≥w technicznych</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="4-2">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Okre≈õlenie wielko≈õci i specyfikacji pracowni</div>
                                <div class="task-details">35m¬≤ bez pozwolenia na budowƒô (wymaga zg≈Çoszenia) lub wiƒôkszy z pozwoleniem</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="4-3">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Zlecenie projektu budowlanego (je≈õli obiekt &gt;35m¬≤)</div>
                                <div class="task-details">Architekt przygotowuje projekt + rzuty, przekroje, elewacje</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="4-4">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Zg≈Çoszenie budowy lub z≈Ço≈ºenie wniosku o pozwolenie</div>
                                <div class="task-details">Starostwo powiatowe / urzƒÖd gminy - dla obiekt√≥w do 35m¬≤ zg≈Çoszenie, powy≈ºej - pozwolenie</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="4-5">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Uzyskanie decyzji o warunkach zabudowy (je≈õli brak MPZP)</div>
                                <div class="task-details">WA≈ªNE: Do ko≈Ñca 2025 uproszczona procedura! Procedura 1-3 miesiƒÖce</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="4-6">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Uzyskanie pozwolenia na budowƒô (je≈õli wymagane)</div>
                                <div class="task-details">Termin: do 65 dni od z≈Ço≈ºenia wniosku, milczƒÖce przyzwolenie po tym terminie</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="4-7">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Uzyskanie warunk√≥w przy≈ÇƒÖczenia medi√≥w</div>
                                <div class="task-details">PrƒÖd, woda, kanalizacja - wnioski do operator√≥w sieci</div>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="phase">
                    <div class="phase-header">
                        <span class="phase-title">FAZA 5: Przygotowanie Terenu</span>
                        <span class="phase-duration">MiesiƒÖce 19-21</span>
                    </div>
                    <ul class="task-list" data-phase="5">
                        <li class="task-item" data-task-id="5-1">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Wytyczenie geodezyjne miejsca pod budynek</div>
                                <div class="task-details">Geodeta wyznacza dok≈ÇadnƒÖ lokalizacjƒô obiektu zgodnie z projektem</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="5-2">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Niwelacja i przygotowanie terenu</div>
                                <div class="task-details">Wyr√≥wnanie gruntu, usuniƒôcie ro≈õlinno≈õci, koparka</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="5-3">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Wykonanie fundament√≥w lub p≈Çyty fundamentowej</div>
                                <div class="task-details">Fundament pod kontener modu≈Çowy - betonowa p≈Çyta lub punkty fundamentowe</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="5-4">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Przygotowanie przy≈ÇƒÖczy medi√≥w</div>
                                <div class="task-details">Rowy pod kable i rury, wyprowadzenia dla przy≈ÇƒÖczy</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="5-5">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Przygotowanie dojazdu dla dostawy kontenera</div>
                                <div class="task-details">Dojazd dla ciƒô≈ºar√≥wki z d≈∫wigiem, wzmocnienie terenu je≈õli potrzebne</div>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="phase">
                    <div class="phase-header">
                        <span class="phase-title">FAZA 6: Dostawa i Instalacja</span>
                        <span class="phase-duration">MiesiƒÖce 22-24</span>
                    </div>
                    <ul class="task-list" data-phase="6">
                        <li class="task-item" data-task-id="6-1">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Finalizacja zam√≥wienia budynku modu≈Çowego</div>
                                <div class="task-details">Potwierdzenie specyfikacji, terminu dostawy, zap≈Çata zaliczki</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="6-2">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Dostawa i monta≈º kontenera/modu≈Çu</div>
                                <div class="task-details">Transport specjalistyczny + d≈∫wig, monta≈º w 1-2 dni</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="6-3">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Pod≈ÇƒÖczenie instalacji elektrycznej</div>
                                <div class="task-details">Elektryk - przy≈ÇƒÖcze, rozdzielnia, instalacja wewnƒôtrzna</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="6-4">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Pod≈ÇƒÖczenie wody i kanalizacji</div>
                                <div class="task-details">Hydraulik - przy≈ÇƒÖcza, instalacje wewnƒôtrzne</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="6-5">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Instalacja ogrzewania/klimatyzacji</div>
                                <div class="task-details">Klimatyzacja z funkcjƒÖ grzania lub dodatkowe ogrzewanie elektryczne</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="6-6">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Monta≈º o≈õwietlenia i instalacji elektrycznych</div>
                                <div class="task-details">Lampy, gniazdka, wy≈ÇƒÖczniki - odpowiednia ilo≈õƒá dla maszyn szwalniczych</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="6-7">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Odbi√≥r techniczny instalacji</div>
                                <div class="task-details">Sprawdzenie dzia≈Çania wszystkich system√≥w, testy</div>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="phase">
                    <div class="phase-header">
                        <span class="phase-title">FAZA 7: Wyposa≈ºenie Pracowni</span>
                        <span class="phase-duration">MiesiƒÖce 25-27</span>
                    </div>
                    <ul class="task-list" data-phase="7">
                        <li class="task-item" data-task-id="7-1">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Zakup maszyn szwalniczych przemys≈Çowych</div>
                                <div class="task-details">Minimum: stebn√≥wka, overlock, coverlock - ok. 8000-15000 z≈Ç</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="7-2">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Zakup sto≈Ç√≥w krojczych i manekiny</div>
                                <div class="task-details">Sto≈Çy o odpowiedniej wielko≈õci, manekiny krawiecki r√≥≈ºne rozmiary</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="7-3">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Zakup ≈ºelazek i stacji prasujƒÖcych</div>
                                <div class="task-details">≈ªelazko przemys≈Çowe lub profesjonalne z generatorem pary</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="7-4">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Systemy przechowywania - rega≈Çy, szafy, organizery</div>
                                <div class="task-details">Meble na tkaniny, nici, akcesoria, wykroje</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="7-5">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Zakup narzƒôdzi i akcesori√≥w krawiecklich</div>
                                <div class="task-details">No≈ºyczki, centymetry, kredy, szpilki, ig≈Çy, nici itp.</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="7-6">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Meble i krzes≈Ça dla uczestnik√≥w warsztat√≥w</div>
                                <div class="task-details">Stoliki i krzes≈Ça dla dzieci, obszar warsztatowy</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="7-7">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Zakup materia≈Ç√≥w startowych</div>
                                <div class="task-details">Zapas tkanin, zamk√≥w, guzik√≥w, ta≈õm do rozpoczƒôcia dzia≈Çalno≈õci</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="7-8">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Aran≈ºacja wnƒôtrza - wyko≈Ñczenie, dekoracje</div>
                                <div class="task-details">Zas≈Çony, o≈õwietlenie dekoracyjne, tablice inspiracyjne</div>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="phase">
                    <div class="phase-header">
                        <span class="phase-title">FAZA 8: Legalizacja Dzia≈Çalno≈õci</span>
                        <span class="phase-duration">MiesiƒÖce 28-30</span>
                    </div>
                    <ul class="task-list" data-phase="8">
                        <li class="task-item" data-task-id="8-1">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Rejestracja dzia≈Çalno≈õci gospodarczej</div>
                                <div class="task-details">CEIDG - online, PKD 14.13.Z (krawiectwo), 85.51.Z (warsztaty)</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="8-2">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Wyb√≥r formy opodatkowania</div>
                                <div class="task-details">Podatek liniowy 19%, skala podatkowa lub rycza≈Çt 8,5%</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="8-3">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Zg≈Çoszenie do ZUS</div>
                                <div class="task-details">Sk≈Çadki zdrowotne i spo≈Çeczne, mo≈ºliwo≈õƒá ulgi na start przez 6 miesiƒôcy</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="8-4">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Ubezpieczenie OC dzia≈Çalno≈õci</div>
                                <div class="task-details">Polisa OC dla dzia≈Çalno≈õci i prowadzenia warsztat√≥w z dzieƒámi</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="8-5">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Zg≈Çoszenie zako≈Ñczenia budowy</div>
                                <div class="task-details">UrzƒÖd gminy/starostwo - zg≈Çoszenie zako≈Ñczenia rob√≥t budowlanych</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="8-6">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Uzyskanie pozwolenia na u≈ºytkowanie (je≈õli wymagane)</div>
                                <div class="task-details">Dla obiekt√≥w powy≈ºej 35m¬≤ - decyzja o pozwoleniu na u≈ºytkowanie</div>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="phase">
                    <div class="phase-header">
                        <span class="phase-title">FAZA 9: Uruchomienie i Marketing</span>
                        <span class="phase-duration">MiesiƒÖce 31-36</span>
                    </div>
                    <ul class="task-list" data-phase="9">
                        <li class="task-item" data-task-id="9-1">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Stworzenie strony internetowej i medi√≥w spo≈Çeczno≈õciowych</div>
                                <div class="task-details">Facebook, Instagram - prezentacja pracowni i portfolio prac</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="9-2">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Przygotowanie cennika us≈Çug i warsztat√≥w</div>
                                <div class="task-details">Us≈Çugi szwalnicze, warsztaty dla dzieci - r√≥≈ºne pakiety</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="9-3">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Kampania marketingowa lokalna</div>
                                <div class="task-details">Ulotki, og≈Çoszenia lokalne, wsp√≥≈Çpraca ze szko≈Çami i przedszkolami</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="9-4">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Dzie≈Ñ otwarcia / Open House</div>
                                <div class="task-details">Event promocyjny, pokazy, mini-warsztaty dla dzieci</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="9-5">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">Pierwsze zam√≥wienia i warsztaty testowe</div>
                                <div class="task-details">Rozpoczƒôcie dzia≈Çalno≈õci, zbieranie opinii, doskonalenie oferty</div>
                            </div>
                        </li>
                        <li class="task-item" data-task-id="9-6">
                            <div class="task-checkbox"></div>
                            <div class="task-content">
                                <div class="task-title">NawiƒÖzanie wsp√≥≈Çpracy z lokalnymi firmami</div>
                                <div class="task-details">Przedszkola, szko≈Çy, centra kultury - oferta warsztat√≥w</div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div id="timeline" class="tab-content">
            <div class="card">
                <h2>Wizualizacja Osi Czasu</h2>
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-date">Listopad 2025 - Stycze≈Ñ 2026</div>
                            <div class="timeline-title">FAZA 1: Przygotowanie i Analiza</div>
                            <p>Wycena nieruchomo≈õci, analiza prawna, konsultacje z architektami i geodetami. Przygotowanie bud≈ºetu i planu finansowania.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-date">Luty - Czerwiec 2026</div>
                            <div class="timeline-title">FAZA 2: Zakup Nieruchomo≈õci</div>
                            <p>Negocjacje, umowa przedwstƒôpna, finalizacja finansowania i podpisanie aktu notarialnego. Rejestracja w ksiƒôgach wieczystych.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-date">Lipiec - Grudzie≈Ñ 2026</div>
                            <div class="timeline-title">FAZA 3: Scalenie Dzia≈Çek</div>
                            <p>Pomiary geodezyjne, wniosek o scalenie, procedura administracyjna w starostwie. Aktualizacja ewidencji grunt√≥w i za≈Ço≈ºenie nowej ksiƒôgi wieczystej.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-date">Stycze≈Ñ - Kwiecie≈Ñ 2027</div>
                            <div class="timeline-title">FAZA 4: Pozwolenia Budowlane</div>
                            <p>Wyb√≥r dostawcy kontenera, projekt budowlany, zg≈Çoszenie/pozwolenie na budowƒô. Uzyskanie warunk√≥w przy≈ÇƒÖczenia medi√≥w.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-date">Maj - Lipiec 2027</div>
                            <div class="timeline-title">FAZA 5: Przygotowanie Terenu</div>
                            <p>Wytyczenie geodezyjne, niwelacja terenu, wykonanie fundament√≥w. Przygotowanie przy≈ÇƒÖczy medi√≥w i dojazdu dla dostawy.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-date">Sierpie≈Ñ - Pa≈∫dziernik 2027</div>
                            <div class="timeline-title">FAZA 6: Dostawa i Instalacja</div>
                            <p>Transport i monta≈º kontenera modu≈Çowego. Pod≈ÇƒÖczenie wszystkich medi√≥w, instalacja ogrzewania i klimatyzacji. Odbiory techniczne.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-date">Listopad 2027 - Stycze≈Ñ 2028</div>
                            <div class="timeline-title">FAZA 7: Wyposa≈ºenie Pracowni</div>
                            <p>Zakup maszyn szwalniczych, sto≈Ç√≥w krojczych, system√≥w przechowywania. Aran≈ºacja wnƒôtrza i zakup materia≈Ç√≥w startowych.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-date">Luty - Kwiecie≈Ñ 2028</div>
                            <div class="timeline-title">FAZA 8: Legalizacja Dzia≈Çalno≈õci</div>
                            <p>Rejestracja dzia≈Çalno≈õci gospodarczej, wyb√≥r formy opodatkowania, zg≈Çoszenia w ZUS. Ubezpieczenie i pozwolenie na u≈ºytkowanie.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-date">Maj - Pa≈∫dziernik 2028</div>
                            <div class="timeline-title">FAZA 9: Uruchomienie i Marketing</div>
                            <p>Strona internetowa, media spo≈Çeczno≈õciowe, kampania marketingowa. Dzie≈Ñ otwarcia i pierwsze zam√≥wienia. Rozw√≥j dzia≈Çalno≈õci.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="budget" class="tab-content">
            <div class="card">
                <h2>Szacunkowy Bud≈ºet Projektu</h2>
                
                <h3>1. Zakup Nieruchomo≈õci</h3>
                <div class="budget-item">
                    <span class="budget-category">Zakup dzia≈Çki sƒÖsiedniej (zale≈ºnie od lokalizacji i wielko≈õci)</span>
                    <span class="budget-amount">150 000 - 350 000 z≈Ç</span>
                </div>
                <div class="budget-item">
                    <span class="budget-category">Akt notarialny, podatki i op≈Çaty</span>
                    <span class="budget-amount">8 000 - 15 000 z≈Ç</span>
                </div>
                <div class="budget-item">
                    <span class="budget-category">Wycena rzeczoznawcy</span>
                    <span class="budget-amount">1 000 - 2 000 z≈Ç</span>
                </div>

                <h3>2. Scalenie Dzia≈Çek</h3>
                <div class="budget-item">
                    <span class="budget-category">Us≈Çugi geodezyjne (mapa, projekt scalenia)</span>
                    <span class="budget-amount">3 000 - 6 000 z≈Ç</span>
                </div>
                <div class="budget-item">
                    <span class="budget-category">Op≈Çaty administracyjne, ksiƒôgi wieczyste</span>
                    <span class="budget-amount">500 - 1 000 z≈Ç</span>
                </div>

                <h3>3. Projekt i Pozwolenia</h3>
                <div class="budget-item">
                    <span class="budget-category">Projekt budowlany (je≈õli wymagany)</span>
                    <span class="budget-amount">3 000 - 8 000 z≈Ç</span>
                </div>
                <div class="budget-item">
                    <span class="budget-category">Zg≈Çoszenie budowy / pozwolenie na budowƒô</span>
                    <span class="budget-amount">500 - 2 000 z≈Ç</span>
                </div>
                <div class="budget-item">
                    <span class="budget-category">Warunki przy≈ÇƒÖczenia medi√≥w</span>
                    <span class="budget-amount">1 000 - 3 000 z≈Ç</span>
                </div>

                <h3>4. Budynek Modu≈Çowy / Kontener</h3>
                <div class="budget-item">
                    <span class="budget-category">Kontener/modu≈Ç 35m¬≤ (podstawowa wersja)</span>
                    <span class="budget-amount">80 000 - 150 000 z≈Ç</span>
                </div>
                <div class="budget-item">
                    <span class="budget-category">Transport i monta≈º</span>
                    <span class="budget-amount">5 000 - 12 000 z≈Ç</span>
                </div>
                <div class="budget-item">
                    <span class="budget-category">Fundamenty / p≈Çyta fundamentowa</span>
                    <span class="budget-amount">8 000 - 15 000 z≈Ç</span>
                </div>

                <h3>5. Przy≈ÇƒÖcza i Instalacje</h3>
                <div class="budget-item">
                    <span class="budget-category">Przy≈ÇƒÖcze elektryczne</span>
                    <span class="budget-amount">5 000 - 12 000 z≈Ç</span>
                </div>
                <div class="budget-item">
                    <span class="budget-category">Przy≈ÇƒÖcze wody i kanalizacji</span>
                    <span class="budget-amount">8 000 - 18 000 z≈Ç</span>
                </div>
                <div class="budget-item">
                    <span class="budget-category">Instalacje wewnƒôtrzne (elektryka, hydraulika)</span>
                    <span class="budget-amount">12 000 - 20 000 z≈Ç</span>
                </div>
                <div class="budget-item">
                    <span class="budget-category">Klimatyzacja / ogrzewanie</span>
                    <span class="budget-amount">8 000 - 15 000 z≈Ç</span>
                </div>

                <h3>6. Wyposa≈ºenie Pracowni</h3>
                <div class="budget-item">
                    <span class="budget-category">Maszyny szwalnicze (stebn√≥wka, overlock, coverlock)</span>
                    <span class="budget-amount">8 000 - 25 000 z≈Ç</span>
                </div>
                <div class="budget-item">
                    <span class="budget-category">Sto≈Çy krojcze, manekiny</span>
                    <span class="budget-amount">4 000 - 8 000 z≈Ç</span>
                </div>
                <div class="budget-item">
                    <span class="budget-category">≈ªelazka, stacje prasujƒÖce</span>
                    <span class="budget-amount">1 500 - 4 000 z≈Ç</span>
                </div>
                <div class="budget-item">
                    <span class="budget-category">Meble, rega≈Çy, systemy przechowywania</span>
                    <span class="budget-amount">6 000 - 12 000 z≈Ç</span>
                </div>
                <div class="budget-item">
                    <span class="budget-category">Narzƒôdzia i akcesoria</span>
                    <span class="budget-amount">3 000 - 6 000 z≈Ç</span>
                </div>
                <div class="budget-item">
                    <span class="budget-category">Meble warsztatowe dla dzieci</span>
                    <span class="budget-amount">4 000 - 8 000 z≈Ç</span>
                </div>
                <div class="budget-item">
                    <span class="budget-category">Materia≈Çy startowe (tkaniny, akcesoria)</span>
                    <span class="budget-amount">5 000 - 10 000 z≈Ç</span>
                </div>

                <h3>7. Zagospodarowanie Terenu</h3>
                <div class="budget-item">
                    <span class="budget-category">Dojazd, parking, ogrodzenie</span>
                    <span class="budget-amount">10 000 - 25 000 z≈Ç</span>
                </div>
                <div class="budget-item">
                    <span class="budget-category">Ziele≈Ñ, ogr√≥d</span>
                    <span class="budget-amount">3 000 - 8 000 z≈Ç</span>
                </div>

                <h3>8. Administracja i Marketing</h3>
                <div class="budget-item">
                    <span class="budget-category">Rejestracja dzia≈Çalno≈õci, ubezpieczenia</span>
                    <span class="budget-amount">2 000 - 4 000 z≈Ç</span>
                </div>
                <div class="budget-item">
                    <span class="budget-category">Strona WWW, marketing, materia≈Çy promocyjne</span>
                    <span class="budget-amount">3 000 - 8 000 z≈Ç</span>
                </div>

                <h3>9. Rezerwa (nieprzewidziane wydatki 10-15%)</h3>
                <div class="budget-item">
                    <span class="budget-category">Bufor bezpiecze≈Ñstwa</span>
                    <span class="budget-amount">40 000 - 70 000 z≈Ç</span>
                </div>

                <div class="budget-total">
                    <span>BUD≈ªET CA≈ÅKOWITY:</span>
                    <span>450 000 - 750 000 z≈Ç</span>
                </div>

                <div style="margin-top: 24px; padding: 16px; background: var(--color-background); border-radius: var(--radius-base); line-height: 1.8;">
                    <strong>Uwagi do bud≈ºetu:</strong>
                    <ul style="margin-top: 12px; padding-left: 24px;">
                        <li>NajwiƒôkszƒÖ zmiennƒÖ jest cena zakupu dzia≈Çki - zale≈ºy od lokalizacji, wielko≈õci i stanu rynku</li>
                        <li>Kontener/modu≈Ç do 35m¬≤ nie wymaga pe≈Çnego pozwolenia na budowƒô (tylko zg≈Çoszenie)</li>
                        <li>Budynki modu≈Çowe o wy≈ºszej jako≈õci (z pe≈Çnym wyko≈Ñczeniem) mogƒÖ kosztowaƒá 120-180k z≈Ç</li>
                        <li>Koszty przy≈ÇƒÖczy zale≈ºƒÖ od odleg≈Ço≈õci od sieci</li>
                        <li>Mo≈ºliwo≈õƒá etapowania inwestycji - najpierw podstawowe wyposa≈ºenie, potem rozbudowa</li>
                        <li>Rozwa≈º finansowanie: kredyt hipoteczny na zakup dzia≈Çki + oszczƒôdno≈õci/kredyt konsumpcyjny na budowƒô</li>
                    </ul>
                </div>
            </div>
        </div>

        <div id="notes" class="tab-content">
            <div class="card">
                <h2>Notatki Projektowe</h2>
                <div class="notes-section">
                    <textarea id="noteInput" class="note-input" placeholder="Dodaj notatkƒô, pomys≈Ç lub wa≈ºnƒÖ informacjƒô..."></textarea>
                    <button class="btn" onclick="addNote()" style="margin-top: 12px;">Dodaj Notatkƒô</button>
                    
                    <div style="margin: 24px 0; display: flex; gap: 12px; align-items: center;">
                        <button class="tab" id="activeNotesTab" onclick="showActiveNotes()" style="background: var(--color-primary); color: white;">Aktywne Notatki</button>
                        <button class="tab" id="archivedNotesTab" onclick="showArchivedNotes()">Archiwum (<span id="archiveCount">0</span>)</button>
                    </div>
                    
                    <div id="notesList" style="margin-top: 24px;"></div>
                    <div id="archivedNotesList" style="margin-top: 24px; display: none;"></div>
                </div>

                <h3 style="margin-top: 32px;">Wa≈ºne Terminy i Przypomnienia</h3>
                <div style="margin-top: 16px; padding: 16px; background: var(--color-background); border-radius: var(--radius-base); line-height: 1.8;">
                    <ul style="padding-left: 24px;">
                        <li><strong>PILNE:</strong> Decyzja o warunkach zabudowy - do ko≈Ñca 2025 r. obowiƒÖzuje uproszczona procedura!</li>
                        <li>Ksiƒôga wieczysta po scaleniu - pamiƒôtaj o aktualizacji wszystkich dokument√≥w</li>
                        <li>Pozwolenie na budowƒô (je≈õli wymagane) - maksymalny termin rozpatrywania: 65 dni</li>
                        <li>Dzia≈Çalno≈õƒá gospodarcza - mo≈ºliwo≈õƒá ulgi na start w ZUS przez pierwsze 6 miesiƒôcy</li>
                        <li>Ubezpieczenie OC dla warsztat√≥w z dzieƒámi - obowiƒÖzkowe przed rozpoczƒôciem zajƒôƒá</li>
                    </ul>
                </div>

                <h3 style="margin-top: 32px;">Przydatne Kontakty</h3>
                <div style="margin-top: 16px; padding: 16px; background: var(--color-background); border-radius: var(--radius-base); line-height: 1.8;">
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin-bottom: 12px;">üìã <strong>Starostwo Powiatowe:</strong> _________________</li>
                        <li style="margin-bottom: 12px;">üèõÔ∏è <strong>UrzƒÖd Gminy:</strong> _________________</li>
                        <li style="margin-bottom: 12px;">üìê <strong>Geodeta:</strong> _________________</li>
                        <li style="margin-bottom: 12px;">üèóÔ∏è <strong>Architekt:</strong> _________________</li>
                        <li style="margin-bottom: 12px;">üè¢ <strong>Dostawca kontener√≥w:</strong> _________________</li>
                        <li style="margin-bottom: 12px;">‚ö° <strong>Zak≈Çad energetyczny:</strong> _________________</li>
                        <li style="margin-bottom: 12px;">üíß <strong>WodociƒÖgi:</strong> _________________</li>
                        <li style="margin-bottom: 12px;">üîß <strong>Ekipa budowlana:</strong> _________________</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>

    <script>
        // ============================================
        // KONFIGURACJA FIREBASE
        // ============================================
        // INSTRUKCJA: Wklej tutaj sw√≥j obiekt firebaseConfig po utworzeniu projektu
        // Przyk≈Çad:
        // const firebaseConfig = {
        //   apiKey: "tw√≥j-api-key",
        //   authDomain: "tw√≥j-projekt.firebaseapp.com",
        //   databaseURL: "https://tw√≥j-projekt.firebaseio.com",
        //   projectId: "tw√≥j-projekt",
        //   storageBucket: "tw√≥j-projekt.appspot.com",
        //   messagingSenderId: "123456789",
        //   appId: "tw√≥j-app-id"
        // };
        
        const firebaseConfig = {
            apiKey: "AIzaSyAfJaH-F5agSCV12QT_KtImxw9i-EALXXM",
            authDomain: "pracownia-64888.firebaseapp.com",
            databaseURL: "https://pracownia-64888-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "pracownia-64888",
            storageBucket: "pracownia-64888.firebasestorage.app",
            messagingSenderId: "101051827649",
            appId: "1:101051827649:web:6dcef00fd28aa139865b40",
            measurementId: "G-RCC2PZ14C6"
        };

        // Sprawd≈∫ czy Firebase jest skonfigurowany
        const isFirebaseConfigured = firebaseConfig.apiKey !== "";
        let database = null;

        if (isFirebaseConfigured) {
            try {
                firebase.initializeApp(firebaseConfig);
                database = firebase.database();
                console.log('‚úÖ Firebase po≈ÇƒÖczony');
            } catch (error) {
                console.error('‚ùå B≈ÇƒÖd inicjalizacji Firebase:', error);
            }
        } else {
            console.warn('‚ö†Ô∏è Firebase nie skonfigurowany - u≈ºywam lokalnego zapisu');
        }

        // Stan aplikacji
        let tasks = {};
        let taskData = {}; // Przechowuje szczeg√≥≈Çy zada≈Ñ (tytu≈Ç, opis)
        let notes = [];
        let archivedNotes = [];
        let taskIdCounter = 1000; // Licznik dla nowych zada≈Ñ

        // Inicjalizacja
        document.addEventListener('DOMContentLoaded', function() {
            initTabs();
            if (isFirebaseConfigured && database) {
                initFirebaseSync();
            } else {
                loadSavedTasks();
                loadNotes();
            }
            initTasks();
            updateProgress();
        });

        // ============================================
        // SYNCHRONIZACJA FIREBASE
        // ============================================
        function initFirebaseSync() {
            // Nas≈Çuchiwanie zmian zada≈Ñ
            database.ref('tasks').on('value', (snapshot) => {
                const data = snapshot.val();
                if (data) {
                    tasks = data;
                    // Aktualizuj widok
                    Object.keys(tasks).forEach(taskId => {
                        const taskItem = document.querySelector(`[data-task-id="${taskId}"]`);
                        if (taskItem) {
                            if (tasks[taskId]) {
                                taskItem.classList.add('completed');
                                taskItem.querySelector('.task-checkbox').classList.add('checked');
                            } else {
                                taskItem.classList.remove('completed');
                                taskItem.querySelector('.task-checkbox').classList.remove('checked');
                            }
                        }
                    });
                    updateProgress();
                }
            });

            // Nas≈Çuchiwanie zmian danych zada≈Ñ
            database.ref('taskData').on('value', (snapshot) => {
                const data = snapshot.val();
                if (data) {
                    taskData = data;
                    renderAllTasks();
                }
            });

            // Nas≈Çuchiwanie zmian notatek
            database.ref('notes').on('value', (snapshot) => {
                const data = snapshot.val();
                if (data) {
                    notes = data;
                    renderNotes();
                }
            });

            // Nas≈Çuchiwanie zmian zarchiwizowanych notatek
            database.ref('archivedNotes').on('value', (snapshot) => {
                const data = snapshot.val();
                if (data) {
                    archivedNotes = data;
                    renderArchivedNotes();
                }
            });
        }

        function saveToFirebase() {
            if (!isFirebaseConfigured || !database) {
                saveToLocalStorage();
                return;
            }

            try {
                database.ref('tasks').set(tasks);
                database.ref('taskData').set(taskData);
                database.ref('notes').set(notes);
                database.ref('archivedNotes').set(archivedNotes);
            } catch (error) {
                console.error('B≈ÇƒÖd zapisu do Firebase:', error);
                // Fallback na localStorage
                saveToLocalStorage();
            }
        }

        // System zak≈Çadek
        function initTabs() {
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const targetTab = tab.dataset.tab;
                    
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    
                    tab.classList.add('active');
                    document.getElementById(targetTab).classList.add('active');
                });
            });
        }

        // System zada≈Ñ
        function initTasks() {
            const taskItems = document.querySelectorAll('.task-item');
            taskItems.forEach(item => {
                const taskId = item.dataset.taskId;
                tasks[taskId] = false;
                
                item.addEventListener('click', function(e) {
                    if (e.target.classList.contains('task-checkbox') || e.target.closest('.task-checkbox')) {
                        toggleTask(taskId);
                    }
                });
            });
        }

        function toggleTask(taskId) {
            tasks[taskId] = !tasks[taskId];
            const taskItem = document.querySelector(`[data-task-id="${taskId}"]`);
            const checkbox = taskItem.querySelector('.task-checkbox');
            
            if (tasks[taskId]) {
                taskItem.classList.add('completed');
                checkbox.classList.add('checked');
            } else {
                taskItem.classList.remove('completed');
                checkbox.classList.remove('checked');
            }
            
            updateProgress();
            saveToFirebase();
        }

        function updateProgress() {
            const totalTasks = Object.keys(tasks).length;
            const completedTasks = Object.values(tasks).filter(t => t).length;
            const percentage = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;
            
            const progressFill = document.getElementById('overallProgress');
            const completedTasksEl = document.getElementById('completedTasks');
            const totalTasksEl = document.getElementById('totalTasks');
            
            if (progressFill) {
                progressFill.style.width = percentage + '%';
                progressFill.textContent = percentage + '%';
            }
            
            if (completedTasksEl) completedTasksEl.textContent = completedTasks;
            if (totalTasksEl) totalTasksEl.textContent = totalTasks;
        }

        // System notatek
        function addNote() {
            const noteInput = document.getElementById('noteInput');
            const noteText = noteInput.value.trim();
            
            if (noteText === '') return;
            
            const note = {
                id: Date.now(),
                text: noteText,
                date: new Date().toLocaleString('pl-PL', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                })
            };
            
            notes.unshift(note);
            noteInput.value = '';
            renderNotes();
            saveToFirebase();
        }

        function renderNotes() {
            const notesList = document.getElementById('notesList');
            if (!notesList) return;
            
            if (notes.length === 0) {
                notesList.innerHTML = '<p style="color: var(--color-text-secondary); text-align: center; padding: 24px;">Brak notatek. Dodaj pierwszƒÖ notatkƒô powy≈ºej.</p>';
                return;
            }
            
            notesList.innerHTML = notes.map(note => `
                <div class="note-item" style="position: relative; padding-right: 120px;">
                    <div class="note-date">${note.date}</div>
                    <div style="margin-bottom: 8px;">${note.text}</div>
                    <div style="position: absolute; top: 12px; right: 12px; display: flex; gap: 8px;">
                        <button onclick="archiveNote(${note.id})" class="btn-small" style="background: var(--color-orange-400); color: white; border: none; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; cursor: pointer;">Archiwizuj</button>
                        <button onclick="deleteNote(${note.id})" class="btn-small" style="background: var(--color-red-400); color: white; border: none; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; cursor: pointer;">Usu≈Ñ</button>
                    </div>
                </div>
            `).join('');
        }

        function loadNotes() {
            try {
                let saved = null;
                let savedArchived = null;
                // Pr√≥ba odczytu z localStorage
                try {
                    saved = localStorage.getItem('projectNotes');
                    savedArchived = localStorage.getItem('projectArchivedNotes');
                } catch (e) {
                    // Fallback na cookies
                    saved = getCookie('projectNotes');
                    savedArchived = getCookie('projectArchivedNotes');
                }
                
                if (saved) {
                    notes = JSON.parse(saved);
                    renderNotes();
                }
                
                if (savedArchived) {
                    archivedNotes = JSON.parse(savedArchived);
                    renderArchivedNotes();
                    updateArchiveCount();
                }
            } catch (e) {
                console.log('B≈ÇƒÖd wczytywania notatek:', e);
                notes = [];
                archivedNotes = [];
            }
        }

        function loadSavedTasks() {
            try {
                let saved = null;
                // Pr√≥ba odczytu z localStorage
                try {
                    saved = localStorage.getItem('projectTasks');
                } catch (e) {
                    // Fallback na cookies
                    saved = getCookie('projectTasks');
                }
                
                if (saved) {
                    const savedTasks = JSON.parse(saved);
                    // Zastosuj zapisane stany zada≈Ñ
                    Object.keys(savedTasks).forEach(taskId => {
                        tasks[taskId] = savedTasks[taskId];
                        if (savedTasks[taskId]) {
                            const taskItem = document.querySelector(`[data-task-id="${taskId}"]`);
                            if (taskItem) {
                                taskItem.classList.add('completed');
                                taskItem.querySelector('.task-checkbox').classList.add('checked');
                            }
                        }
                    });
                }
            } catch (e) {
                console.log('B≈ÇƒÖd wczytywania zada≈Ñ:', e);
            }
        }

        // Zapis do localStorage z fallback na cookies
        function saveToLocalStorage() {
            try {
                // Pr√≥ba zapisu do localStorage
                localStorage.setItem('projectTasks', JSON.stringify(tasks));
                localStorage.setItem('projectTaskData', JSON.stringify(taskData));
                localStorage.setItem('projectNotes', JSON.stringify(notes));
                localStorage.setItem('projectArchivedNotes', JSON.stringify(archivedNotes));
            } catch (e) {
                console.log('localStorage niedostƒôpny, u≈ºywam cookies:', e);
                // Fallback na cookies (max 4KB per cookie)
                setCookie('projectTasks', JSON.stringify(tasks), 365);
                setCookie('projectTaskData', JSON.stringify(taskData), 365);
                setCookie('projectNotes', JSON.stringify(notes), 365);
                setCookie('projectArchivedNotes', JSON.stringify(archivedNotes), 365);
            }
        }

        // Funkcje pomocnicze dla cookies
        function setCookie(name, value, days) {
            const date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            const expires = "expires=" + date.toUTCString();
            // Kompresja danych przed zapisem
            const compressed = btoa(encodeURIComponent(value));
            document.cookie = name + "=" + compressed + ";" + expires + ";path=/;SameSite=Lax";
        }

        function getCookie(name) {
            const nameEQ = name + "=";
            const ca = document.cookie.split(';');
            for(let i = 0; i < ca.length; i++) {
                let c = ca[i];
                while (c.charAt(0) === ' ') c = c.substring(1, c.length);
                if (c.indexOf(nameEQ) === 0) {
                    try {
                        const compressed = c.substring(nameEQ.length, c.length);
                        return decodeURIComponent(atob(compressed));
                    } catch (e) {
                        return null;
                    }
                }
            }
            return null;
        }

        // Funkcje zarzƒÖdzania notatkami
        function deleteNote(noteId) {
            if (confirm('Czy na pewno chcesz usunƒÖƒá tƒô notatkƒô?')) {
                notes = notes.filter(note => note.id !== noteId);
                renderNotes();
                saveToFirebase();
            }
        }

        function archiveNote(noteId) {
            const noteIndex = notes.findIndex(note => note.id === noteId);
            if (noteIndex !== -1) {
                const note = notes[noteIndex];
                note.archivedDate = new Date().toLocaleString('pl-PL', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                archivedNotes.unshift(note);
                notes.splice(noteIndex, 1);
                renderNotes();
                renderArchivedNotes();
                updateArchiveCount();
                saveToFirebase();
            }
        }

        function restoreNote(noteId) {
            const noteIndex = archivedNotes.findIndex(note => note.id === noteId);
            if (noteIndex !== -1) {
                const note = archivedNotes[noteIndex];
                delete note.archivedDate;
                notes.unshift(note);
                archivedNotes.splice(noteIndex, 1);
                renderNotes();
                renderArchivedNotes();
                updateArchiveCount();
                saveToFirebase();
            }
        }

        function deleteArchivedNote(noteId) {
            if (confirm('Czy na pewno chcesz bezpowrotnie usunƒÖƒá tƒô notatkƒô z archiwum?')) {
                archivedNotes = archivedNotes.filter(note => note.id !== noteId);
                renderArchivedNotes();
                updateArchiveCount();
                saveToFirebase();
            }
        }

        function renderArchivedNotes() {
            const archivedNotesList = document.getElementById('archivedNotesList');
            if (!archivedNotesList) return;
            
            if (archivedNotes.length === 0) {
                archivedNotesList.innerHTML = '<p style="color: var(--color-text-secondary); text-align: center; padding: 24px;">Archiwum jest puste.</p>';
                return;
            }
            
            archivedNotesList.innerHTML = archivedNotes.map(note => `
                <div class="note-item" style="position: relative; padding-right: 120px; opacity: 0.8;">
                    <div class="note-date">${note.date} ‚Üí Archiwum: ${note.archivedDate}</div>
                    <div style="margin-bottom: 8px;">${note.text}</div>
                    <div style="position: absolute; top: 12px; right: 12px; display: flex; gap: 8px;">
                        <button onclick="restoreNote(${note.id})" class="btn-small" style="background: var(--color-primary); color: white; border: none; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; cursor: pointer;">Przywr√≥ƒá</button>
                        <button onclick="deleteArchivedNote(${note.id})" class="btn-small" style="background: var(--color-red-400); color: white; border: none; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; cursor: pointer;">Usu≈Ñ</button>
                    </div>
                </div>
            `).join('');
        }

        function showActiveNotes() {
            document.getElementById('notesList').style.display = 'block';
            document.getElementById('archivedNotesList').style.display = 'none';
            document.getElementById('activeNotesTab').style.background = 'var(--color-primary)';
            document.getElementById('activeNotesTab').style.color = 'white';
            document.getElementById('archivedNotesTab').style.background = 'transparent';
            document.getElementById('archivedNotesTab').style.color = 'var(--color-text-secondary)';
        }

        function showArchivedNotes() {
            document.getElementById('notesList').style.display = 'none';
            document.getElementById('archivedNotesList').style.display = 'block';
            document.getElementById('activeNotesTab').style.background = 'transparent';
            document.getElementById('activeNotesTab').style.color = 'var(--color-text-secondary)';
            document.getElementById('archivedNotesTab').style.background = 'var(--color-primary)';
            document.getElementById('archivedNotesTab').style.color = 'white';
        }

        function updateArchiveCount() {
            const archiveCountEl = document.getElementById('archiveCount');
            if (archiveCountEl) {
                archiveCountEl.textContent = archivedNotes.length;
            }
        }

        // ============================================
        // ZARZƒÑDZANIE ZADANIAMI
        // ============================================

        // Inicjalizacja danych zada≈Ñ z HTML
        function initTaskData() {
            const taskItems = document.querySelectorAll('.task-item');
            taskItems.forEach(item => {
                const taskId = item.dataset.taskId;
                if (!taskData[taskId]) {
                    const titleEl = item.querySelector('.task-title');
                    const detailsEl = item.querySelector('.task-details');
                    taskData[taskId] = {
                        title: titleEl ? titleEl.textContent : '',
                        details: detailsEl ? detailsEl.textContent : '',
                        phase: taskId.split('-')[0]
                    };
                }
            });
        }

        // Renderowanie wszystkich zada≈Ñ
        function renderAllTasks() {
            const phases = document.querySelectorAll('.task-list');
            phases.forEach(phaseList => {
                const phaseNum = phaseList.dataset.phase;
                const phaseTasks = Object.keys(taskData).filter(id => id.startsWith(phaseNum + '-'));
                
                phaseList.innerHTML = phaseTasks.map(taskId => {
                    const task = taskData[taskId];
                    const isCompleted = tasks[taskId] || false;
                    return `
                        <li class="task-item ${isCompleted ? 'completed' : ''}" data-task-id="${taskId}">
                            <div class="task-checkbox ${isCompleted ? 'checked' : ''}"></div>
                            <div class="task-content">
                                <div class="task-title">${task.title}</div>
                                <div class="task-details">${task.details}</div>
                            </div>
                            <div class="task-actions">
                                <button class="btn-edit" onclick="editTask('${taskId}')">‚úèÔ∏è</button>
                                <button class="btn-delete" onclick="deleteTask('${taskId}')">üóëÔ∏è</button>
                            </div>
                        </li>
                    `;
                }).join('');
                
                // Ponownie dodaj event listenery
                phaseList.querySelectorAll('.task-item').forEach(item => {
                    item.addEventListener('click', function(e) {
                        if (e.target.classList.contains('task-checkbox') || e.target.closest('.task-checkbox')) {
                            const taskId = item.dataset.taskId;
                            toggleTask(taskId);
                        }
                    });
                });
            });
        }

        // Dodawanie nowego zadania
        function addNewTask(phase) {
            showTaskModal('add', phase);
        }

        // Edycja zadania
        function editTask(taskId) {
            showTaskModal('edit', null, taskId);
        }

        // Usuwanie zadania
        function deleteTask(taskId) {
            if (confirm('Czy na pewno chcesz usunƒÖƒá to zadanie?')) {
                delete tasks[taskId];
                delete taskData[taskId];
                renderAllTasks();
                updateProgress();
                saveToFirebase();
            }
        }

        // Modal do dodawania/edycji zada≈Ñ
        function showTaskModal(mode, phase, taskId) {
            const modal = document.getElementById('taskModal') || createTaskModal();
            const modalTitle = modal.querySelector('#modalTitle');
            const titleInput = modal.querySelector('#taskTitleInput');
            const detailsInput = modal.querySelector('#taskDetailsInput');
            const saveBtn = modal.querySelector('#saveTaskBtn');
            
            if (mode === 'add') {
                modalTitle.textContent = `Dodaj zadanie - Faza ${phase}`;
                titleInput.value = '';
                detailsInput.value = '';
                saveBtn.onclick = () => saveTask(mode, phase, null);
            } else if (mode === 'edit') {
                modalTitle.textContent = 'Edytuj zadanie';
                const task = taskData[taskId];
                titleInput.value = task.title;
                detailsInput.value = task.details;
                saveBtn.onclick = () => saveTask(mode, null, taskId);
            }
            
            modal.style.display = 'block';
        }

        // Zapisywanie zadania
        function saveTask(mode, phase, taskId) {
            const titleInput = document.getElementById('taskTitleInput');
            const detailsInput = document.getElementById('taskDetailsInput');
            
            const title = titleInput.value.trim();
            const details = detailsInput.value.trim();
            
            if (!title) {
                alert('Tytu≈Ç zadania jest wymagany');
                return;
            }
            
            if (mode === 'add') {
                // Generuj nowe ID
                const newTaskId = `${phase}-${taskIdCounter++}`;
                tasks[newTaskId] = false;
                taskData[newTaskId] = {
                    title: title,
                    details: details,
                    phase: phase
                };
            } else if (mode === 'edit') {
                taskData[taskId].title = title;
                taskData[taskId].details = details;
            }
            
            renderAllTasks();
            updateProgress();
            saveToFirebase();
            closeTaskModal();
        }

        // Tworzenie modala zada≈Ñ
        function createTaskModal() {
            const modal = document.createElement('div');
            modal.id = 'taskModal';
            modal.className = 'modal';
            modal.innerHTML = `
                <div class="modal-content">
                    <h3 id="modalTitle">Dodaj zadanie</h3>
                    <div class="form-group">
                        <label class="form-label" for="taskTitleInput">Tytu≈Ç zadania:</label>
                        <input type="text" id="taskTitleInput" class="form-input" placeholder="Np. Analiza rynku nieruchomo≈õci">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="taskDetailsInput">Szczeg√≥≈Çy zadania:</label>
                        <textarea id="taskDetailsInput" class="form-textarea" placeholder="Dodatkowe informacje, notatki lub instrukcje do zadania"></textarea>
                    </div>
                    <div class="modal-actions">
                        <button class="btn-secondary" onclick="closeTaskModal()">Anuluj</button>
                        <button class="btn" id="saveTaskBtn">Zapisz</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            
            // Zamknij modal przy klikniƒôciu na t≈Ço
            modal.addEventListener('click', (e) => {
                if (e.target === modal) closeTaskModal();
            });
            
            return modal;
        }

        // Zamykanie modala
        function closeTaskModal() {
            const modal = document.getElementById('taskModal');
            if (modal) {
                modal.style.display = 'none';
            }
        }

        // Dodaj event listenery dla przycisk√≥w dodawania zada≈Ñ
        function initPhaseButtons() {
            document.querySelectorAll('.phase-add-task').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const phase = btn.dataset.phase;
                    addNewTask(phase);
                });
            });
        }

        // Aktualizacja funkcji loadSavedTasks
        function loadSavedTasksAndData() {
            try {
                let savedTasks = null;
                let savedTaskData = null;
                
                // Pr√≥ba odczytu z localStorage
                try {
                    savedTasks = localStorage.getItem('projectTasks');
                    savedTaskData = localStorage.getItem('projectTaskData');
                } catch (e) {
                    // Fallback na cookies
                    savedTasks = getCookie('projectTasks');
                    savedTaskData = getCookie('projectTaskData');
                }
                
                if (savedTasks) {
                    tasks = JSON.parse(savedTasks);
                }
                
                if (savedTaskData) {
                    taskData = JSON.parse(savedTaskData);
                }
                
                // Je≈õli nie ma zapisanych danych zada≈Ñ, zainicjuj z HTML
                if (Object.keys(taskData).length === 0) {
                    initTaskData();
                }
                
                renderAllTasks();
                
            } catch (e) {
                console.log('B≈ÇƒÖd wczytywania danych zada≈Ñ:', e);
                initTaskData();
                renderAllTasks();
            }
        }

        // Aktualizacja inicjalizacji
        document.addEventListener('DOMContentLoaded', function() {
            initTabs();
            if (isFirebaseConfigured && database) {
                initFirebaseSync();
            } else {
                loadSavedTasksAndData();
                loadNotes();
            }
            initTasks();
            initPhaseButtons();
            updateProgress();
        });

        // Enter key w notatkach
        document.addEventListener('keypress', function(e) {
            if (e.target.id === 'noteInput' && e.key === 'Enter' && e.ctrlKey) {
                addNote();
            }
        });

        // Zamknij modal klawiszem Escape
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeTaskModal();
            }
        });
    </script>
</body>
</html>
